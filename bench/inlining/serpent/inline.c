/* This code was generated by Usuba.
   See https://github.com/DadaIsCrazy/usuba.
   From the file "samples/usuba/serpent.ua" (included below). */

#include <stdint.h>

/* Do NOT change the order of those define/include */
#define NO_RUNTIME
#ifndef BITS_PER_REG
#define BITS_PER_REG 128
#endif
/* including the architecture specific .h */
#include "SSE.h"

/* auxiliary functions */
void sbox__0__ (/*inputs*/ DATATYPE a,DATATYPE b,DATATYPE c,DATATYPE d, /*outputs*/ DATATYPE* w,DATATYPE* x,DATATYPE* y,DATATYPE* z) {
  
  // Variables declaration
  DATATYPE t01;
  DATATYPE t02;
  DATATYPE t03;
  DATATYPE t05;
  DATATYPE t06;
  DATATYPE t07;
  DATATYPE t08;
  DATATYPE t09;
  DATATYPE t11;
  DATATYPE t12;
  DATATYPE t13;
  DATATYPE t14;
  DATATYPE t15;
  DATATYPE t17;

  // Instructions (body)
  t01 = XOR(b,c);
  t02 = OR(a,d);
  t03 = XOR(a,b);
  t06 = XOR(a,d);
  t07 = OR(b,c);
  t12 = XOR(c,d);
  *z = XOR(t02,t01);
  t14 = AND(b,t06);
  t09 = AND(t03,t07);
  t05 = OR(c,*z);
  t08 = AND(d,t05);
  *y = XOR(t09,t08);
  t11 = AND(t09,*y);
  t13 = XOR(t07,t11);
  t15 = XOR(t06,t13);
  *w = NOT(t15);
  t17 = XOR(*w,t14);
  *x = XOR(t12,t17);

}

void sbox__1__ (/*inputs*/ DATATYPE a,DATATYPE b,DATATYPE c,DATATYPE d, /*outputs*/ DATATYPE* w,DATATYPE* x,DATATYPE* y,DATATYPE* z) {
  
  // Variables declaration
  DATATYPE t01;
  DATATYPE t02;
  DATATYPE t03;
  DATATYPE t04;
  DATATYPE t05;
  DATATYPE t06;
  DATATYPE t07;
  DATATYPE t08;
  DATATYPE t10;
  DATATYPE t11;
  DATATYPE t12;
  DATATYPE t13;
  DATATYPE t16;
  DATATYPE t17;

  // Instructions (body)
  t01 = OR(a,d);
  t02 = XOR(c,d);
  t03 = NOT(b);
  t04 = XOR(a,c);
  t13 = AND(b,d);
  t07 = AND(t01,t02);
  t05 = OR(a,t03);
  t06 = AND(d,t04);
  *y = XOR(t02,t05);
  t08 = OR(b,t06);
  t10 = XOR(t07,t08);
  t11 = XOR(t01,t10);
  *z = NOT(t10);
  t12 = XOR(*y,t11);
  *x = XOR(t13,t12);
  t16 = OR(t10,*x);
  t17 = AND(t05,t16);
  *w = XOR(c,t17);

}

void sbox__2__ (/*inputs*/ DATATYPE a,DATATYPE b,DATATYPE c,DATATYPE d, /*outputs*/ DATATYPE* w,DATATYPE* x,DATATYPE* y,DATATYPE* z) {
  
  // Variables declaration
  DATATYPE t01;
  DATATYPE t02;
  DATATYPE t03;
  DATATYPE t05;
  DATATYPE t06;
  DATATYPE t07;
  DATATYPE t08;
  DATATYPE t09;
  DATATYPE t10;
  DATATYPE t12;
  DATATYPE t13;
  DATATYPE t14;

  // Instructions (body)
  t01 = OR(a,c);
  t02 = XOR(a,b);
  t12 = OR(a,d);
  t03 = XOR(d,t01);
  *w = XOR(t02,t03);
  t05 = XOR(c,*w);
  t06 = XOR(b,t05);
  t07 = OR(b,t05);
  t08 = AND(t01,t06);
  t09 = XOR(t03,t07);
  t10 = OR(t02,t09);
  *z = NOT(t09);
  *x = XOR(t10,t08);
  t13 = XOR(t09,*x);
  t14 = XOR(b,t13);
  *y = XOR(t12,t14);

}

void sbox__3__ (/*inputs*/ DATATYPE a,DATATYPE b,DATATYPE c,DATATYPE d, /*outputs*/ DATATYPE* w,DATATYPE* x,DATATYPE* y,DATATYPE* z) {
  
  // Variables declaration
  DATATYPE t01;
  DATATYPE t02;
  DATATYPE t03;
  DATATYPE t04;
  DATATYPE t05;
  DATATYPE t06;
  DATATYPE t07;
  DATATYPE t08;
  DATATYPE t09;
  DATATYPE t10;
  DATATYPE t11;
  DATATYPE t13;
  DATATYPE t14;
  DATATYPE t15;

  // Instructions (body)
  t01 = XOR(a,c);
  t02 = OR(a,d);
  t03 = AND(a,d);
  t06 = AND(a,b);
  t04 = AND(t01,t02);
  t05 = OR(b,t03);
  t08 = OR(c,t06);
  t07 = XOR(d,t04);
  t10 = AND(d,t05);
  *x = XOR(t05,t04);
  t09 = XOR(b,t07);
  t14 = OR(a,t07);
  t11 = XOR(t02,t10);
  *z = XOR(t08,t09);
  *y = XOR(t08,t11);
  t13 = OR(d,*z);
  t15 = AND(b,t13);
  *w = XOR(t14,t15);

}

void sbox__4__ (/*inputs*/ DATATYPE a,DATATYPE b,DATATYPE c,DATATYPE d, /*outputs*/ DATATYPE* w,DATATYPE* x,DATATYPE* y,DATATYPE* z) {
  
  // Variables declaration
  DATATYPE t01;
  DATATYPE t02;
  DATATYPE t03;
  DATATYPE t04;
  DATATYPE t05;
  DATATYPE t06;
  DATATYPE t08;
  DATATYPE t09;
  DATATYPE t10;
  DATATYPE t11;
  DATATYPE t12;
  DATATYPE t13;
  DATATYPE t14;
  DATATYPE t15;
  DATATYPE t16;

  // Instructions (body)
  t01 = OR(a,b);
  t02 = OR(b,c);
  t04 = XOR(b,d);
  t11 = AND(b,c);
  t06 = AND(d,t01);
  t03 = XOR(a,t02);
  t10 = XOR(c,t06);
  t05 = OR(d,t03);
  *z = XOR(t03,t06);
  t13 = OR(t11,t03);
  t09 = AND(t04,t05);
  t15 = AND(a,t05);
  t08 = AND(*z,t04);
  t14 = XOR(t10,t09);
  t12 = XOR(t04,t08);
  *y = XOR(t13,t08);
  *w = NOT(t14);
  t16 = OR(t11,t12);
  *x = XOR(t15,t16);

}

void sbox__5__ (/*inputs*/ DATATYPE a,DATATYPE b,DATATYPE c,DATATYPE d, /*outputs*/ DATATYPE* w,DATATYPE* x,DATATYPE* y,DATATYPE* z) {
  
  // Variables declaration
  DATATYPE t01;
  DATATYPE t02;
  DATATYPE t03;
  DATATYPE t04;
  DATATYPE t05;
  DATATYPE t07;
  DATATYPE t08;
  DATATYPE t09;
  DATATYPE t10;
  DATATYPE t11;
  DATATYPE t12;
  DATATYPE t13;
  DATATYPE t14;

  // Instructions (body)
  t01 = XOR(b,d);
  t02 = OR(b,d);
  t03 = AND(a,t01);
  t07 = XOR(a,t01);
  t04 = XOR(c,t02);
  t11 = OR(b,t07);
  t05 = XOR(t03,t04);
  t14 = XOR(t01,t11);
  *w = NOT(t05);
  t09 = OR(b,t05);
  t08 = OR(d,*w);
  t12 = OR(t03,*w);
  t10 = XOR(d,t08);
  *x = XOR(t07,t08);
  *z = XOR(t12,t14);
  t13 = OR(t07,t10);
  *y = XOR(t09,t13);

}

void sbox__6__ (/*inputs*/ DATATYPE a,DATATYPE b,DATATYPE c,DATATYPE d, /*outputs*/ DATATYPE* w,DATATYPE* x,DATATYPE* y,DATATYPE* z) {
  
  // Variables declaration
  DATATYPE t01;
  DATATYPE t02;
  DATATYPE t03;
  DATATYPE t04;
  DATATYPE t05;
  DATATYPE t07;
  DATATYPE t08;
  DATATYPE t09;
  DATATYPE t10;
  DATATYPE t11;
  DATATYPE t12;
  DATATYPE t13;
  DATATYPE t15;
  DATATYPE t17;
  DATATYPE t18;

  // Instructions (body)
  t01 = AND(a,d);
  t02 = XOR(b,c);
  t03 = XOR(a,d);
  t05 = OR(b,c);
  t09 = OR(a,c);
  t11 = OR(b,d);
  t04 = XOR(t01,t02);
  t17 = XOR(a,b);
  t07 = AND(t03,t05);
  t12 = XOR(c,t11);
  *x = NOT(t04);
  *z = XOR(t12,t07);
  t08 = AND(b,*x);
  t15 = AND(*x,t03);
  t10 = XOR(t07,t08);
  t13 = XOR(t09,t10);
  *y = NOT(t13);
  t18 = XOR(*y,t15);
  *w = XOR(t17,t18);

}

void sbox__7__ (/*inputs*/ DATATYPE a,DATATYPE b,DATATYPE c,DATATYPE d, /*outputs*/ DATATYPE* w,DATATYPE* x,DATATYPE* y,DATATYPE* z) {
  
  // Variables declaration
  DATATYPE t01;
  DATATYPE t02;
  DATATYPE t03;
  DATATYPE t04;
  DATATYPE t05;
  DATATYPE t06;
  DATATYPE t08;
  DATATYPE t09;
  DATATYPE t10;
  DATATYPE t11;
  DATATYPE t13;
  DATATYPE t14;
  DATATYPE t15;
  DATATYPE t16;
  DATATYPE t17;

  // Instructions (body)
  t01 = AND(a,c);
  t02 = NOT(d);
  t05 = AND(a,b);
  t04 = OR(b,t01);
  t03 = AND(a,t02);
  t09 = OR(d,t05);
  t15 = XOR(c,t05);
  t06 = XOR(c,t04);
  *z = XOR(t03,t06);
  t08 = OR(c,*z);
  t11 = AND(t04,*z);
  t10 = XOR(a,t08);
  *x = XOR(t09,t10);
  t13 = XOR(b,*x);
  t14 = XOR(t01,*x);
  t16 = OR(t11,t13);
  t17 = OR(t02,t14);
  *y = XOR(a,t16);
  *w = XOR(t15,t17);

}

void transform__ (/*inputs*/ DATATYPE x__0__,DATATYPE x__1__,DATATYPE x__2__,DATATYPE x__3__, /*outputs*/ DATATYPE* out__0__,DATATYPE* out__1__,DATATYPE* out__2__,DATATYPE* out__3__) {
  
  // Variables declaration
  DATATYPE _shadow_x__0__1_;
  DATATYPE _shadow_x__0__7_;
  DATATYPE _shadow_x__0__9_;
  DATATYPE _shadow_x__1__3_;
  DATATYPE _shadow_x__1__5_;
  DATATYPE _shadow_x__2__10_;
  DATATYPE _shadow_x__2__2_;
  DATATYPE _shadow_x__2__8_;
  DATATYPE _shadow_x__3__4_;
  DATATYPE _shadow_x__3__6_;
  DATATYPE _tmp1_;
  DATATYPE _tmp2_;
  DATATYPE _tmp3_;
  DATATYPE _tmp4_;
  DATATYPE _tmp5_;
  DATATYPE _tmp6_;

  // Instructions (body)
  _shadow_x__0__1_ = L_ROTATE(x__0__,13,32);
  _shadow_x__2__2_ = L_ROTATE(x__2__,3,32);
  _tmp1_ = XOR(x__1__,_shadow_x__0__1_);
  _tmp3_ = L_SHIFT(_shadow_x__0__1_,3,32);
  _tmp2_ = XOR(x__3__,_shadow_x__2__2_);
  _shadow_x__1__3_ = XOR(_tmp1_,_shadow_x__2__2_);
  _shadow_x__3__4_ = XOR(_tmp2_,_tmp3_);
  _shadow_x__1__5_ = L_ROTATE(_shadow_x__1__3_,1,32);
  _shadow_x__3__6_ = L_ROTATE(_shadow_x__3__4_,7,32);
  _tmp4_ = XOR(_shadow_x__0__1_,_shadow_x__1__5_);
  _tmp6_ = L_SHIFT(_shadow_x__1__5_,7,32);
  *out__1__ = _shadow_x__1__5_;
  _tmp5_ = XOR(_shadow_x__2__2_,_shadow_x__3__6_);
  *out__3__ = _shadow_x__3__6_;
  _shadow_x__0__7_ = XOR(_tmp4_,_shadow_x__3__6_);
  _shadow_x__2__8_ = XOR(_tmp5_,_tmp6_);
  _shadow_x__0__9_ = L_ROTATE(_shadow_x__0__7_,5,32);
  _shadow_x__2__10_ = L_ROTATE(_shadow_x__2__8_,22,32);
  *out__0__ = _shadow_x__0__9_;
  *out__2__ = _shadow_x__2__10_;

}

/* main function */
void Serpent__ (/*inputs*/ DATATYPE plaintext__[4],DATATYPE keys__[33][4], /*outputs*/ DATATYPE ciphertext__[4]) {
  
  // Variables declaration
  DATATYPE _tmp7_0__;
  DATATYPE _tmp7_1__;
  DATATYPE _tmp7_2__;
  DATATYPE _tmp7_3__;

  // Instructions (body)
  _tmp7_0__ = XOR(plaintext__[0],keys__[0][0]);
  _tmp7_1__ = XOR(plaintext__[1],keys__[0][1]);
  _tmp7_2__ = XOR(plaintext__[2],keys__[0][2]);
  _tmp7_3__ = XOR(plaintext__[3],keys__[0][3]);
  sbox__0__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[1][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[1][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[1][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[1][3]);
  sbox__1__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[2][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[2][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[2][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[2][3]);
  sbox__2__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[3][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[3][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[3][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[3][3]);
  sbox__3__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[4][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[4][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[4][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[4][3]);
  sbox__4__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[5][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[5][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[5][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[5][3]);
  sbox__5__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[6][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[6][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[6][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[6][3]);
  sbox__6__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[7][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[7][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[7][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[7][3]);
  sbox__7__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[8][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[8][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[8][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[8][3]);
  sbox__0__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[9][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[9][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[9][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[9][3]);
  sbox__1__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[10][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[10][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[10][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[10][3]);
  sbox__2__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[11][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[11][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[11][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[11][3]);
  sbox__3__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[12][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[12][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[12][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[12][3]);
  sbox__4__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[13][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[13][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[13][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[13][3]);
  sbox__5__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[14][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[14][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[14][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[14][3]);
  sbox__6__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[15][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[15][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[15][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[15][3]);
  sbox__7__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[16][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[16][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[16][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[16][3]);
  sbox__0__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[17][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[17][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[17][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[17][3]);
  sbox__1__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[18][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[18][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[18][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[18][3]);
  sbox__2__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[19][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[19][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[19][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[19][3]);
  sbox__3__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[20][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[20][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[20][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[20][3]);
  sbox__4__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[21][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[21][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[21][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[21][3]);
  sbox__5__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[22][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[22][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[22][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[22][3]);
  sbox__6__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[23][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[23][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[23][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[23][3]);
  sbox__7__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[24][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[24][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[24][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[24][3]);
  sbox__0__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[25][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[25][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[25][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[25][3]);
  sbox__1__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[26][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[26][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[26][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[26][3]);
  sbox__2__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[27][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[27][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[27][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[27][3]);
  sbox__3__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[28][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[28][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[28][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[28][3]);
  sbox__4__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[29][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[29][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[29][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[29][3]);
  sbox__5__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[30][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[30][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[30][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[30][3]);
  sbox__6__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  transform__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  _tmp7_0__ = XOR(_tmp7_0__,keys__[31][0]);
  _tmp7_1__ = XOR(_tmp7_1__,keys__[31][1]);
  _tmp7_2__ = XOR(_tmp7_2__,keys__[31][2]);
  _tmp7_3__ = XOR(_tmp7_3__,keys__[31][3]);
  sbox__7__(_tmp7_0__,_tmp7_1__,_tmp7_2__,_tmp7_3__,&_tmp7_0__,&_tmp7_1__,&_tmp7_2__,&_tmp7_3__);
  ciphertext__[0] = XOR(_tmp7_0__,keys__[32][0]);
  ciphertext__[1] = XOR(_tmp7_1__,keys__[32][1]);
  ciphertext__[2] = XOR(_tmp7_2__,keys__[32][2]);
  ciphertext__[3] = XOR(_tmp7_3__,keys__[32][3]);

}


/* **************************************************************** */
/*                            Usuba source                          */
/*                                                                  */
/*

_no_inline table[] sbox(input :  u32x4 :: base)
  returns out :  u32x4 :: base
[ {3, 8, 15, 1, 10, 6, 5, 11, 14, 13, 4, 2, 7, 0, 9, 12}
;
{15, 12, 2, 7, 9, 0, 5, 10, 1, 11, 14, 8, 6, 13, 3, 4}
;
{8, 6, 7, 9, 3, 12, 10, 15, 13, 1, 14, 4, 0, 11, 5, 2}
;
{0, 15, 11, 8, 12, 9, 6, 3, 13, 1, 2, 4, 10, 7, 5, 14}
;
{1, 15, 8, 3, 12, 0, 11, 6, 2, 5, 4, 10, 9, 14, 7, 13}
;
{15, 5, 2, 11, 4, 10, 9, 12, 0, 3, 14, 8, 13, 6, 7, 1}
;
{7, 2, 12, 5, 8, 4, 6, 11, 14, 9, 1, 15, 13, 3, 10, 0}
;
{1, 13, 15, 0, 14, 8, 2, 11, 7, 4, 12, 10, 9, 3, 5, 6}
]


_no_inline node transform(x :  u32x4 :: base)
  returns out :  u32x4 :: base
vars

let
  (x[0]) := (x[0] <<< 13);
  (x[2]) := (x[2] <<< 3);
  (x[1]) := ((x[1] ^ x[0]) ^ x[2]);
  (x[3]) := ((x[3] ^ x[2]) ^ (x[0] << 3));
  (x[1]) := (x[1] <<< 1);
  (x[3]) := (x[3] <<< 7);
  (x[0]) := ((x[0] ^ x[1]) ^ x[3]);
  (x[2]) := ((x[2] ^ x[3]) ^ (x[1] << 7));
  (x[0]) := (x[0] <<< 5);
  (x[2]) := (x[2] <<< 22);
  (out) = x
tel

 node Serpent(plaintext :  u32x4 :: base,keys : const u32x4[33] :: base)
  returns ciphertext :  u32x4 :: base
vars
  tmp :  u32x4[32] :: base
let
  (tmp[0]) = plaintext;
   forall i in [0,30] {
    (tmp[(i + 1)]) = transform(sbox[(i % 8)]((tmp[i] ^ keys[i])))
  };
  (ciphertext) = (sbox[7]((tmp[31] ^ keys[31])) ^ keys[32])
tel

*/
 