/* This code was generated by Usuba.
   See https://github.com/DadaIsCrazy/usuba.
   From the file "samples/usuba/serpent.ua" (included below). */

#include <stdint.h>

/* Do NOT change the order of those define/include */

#ifndef BITS_PER_REG
#define BITS_PER_REG 32
#endif
/* including the architecture specific .h */
#include "STD.h"

/* auxiliary functions */
void sbox__0__V32 (/*inputs*/ DATATYPE r0__,DATATYPE r1__,DATATYPE r2__,DATATYPE r3__, /*outputs*/ DATATYPE* r5__,DATATYPE* r6__,DATATYPE* r7__,DATATYPE* r8__) {

  // Variables declaration
  DATATYPE _shadow_r0__5_;
  DATATYPE _shadow_r0__6_;
  DATATYPE _shadow_r1__13_;
  DATATYPE _shadow_r1__14_;
  DATATYPE _shadow_r1__16_;
  DATATYPE _shadow_r1__2_;
  DATATYPE _shadow_r1__4_;
  DATATYPE _shadow_r2__10_;
  DATATYPE _shadow_r2__9_;
  DATATYPE _shadow_r3__15_;
  DATATYPE _shadow_r3__1_;
  DATATYPE _shadow_r3__8_;
  DATATYPE _shadow_r4__11_;
  DATATYPE _shadow_r4__12_;
  DATATYPE _shadow_r4__17_;
  DATATYPE _shadow_r4__3_;
  DATATYPE _shadow_r4__7_;

  // Instructions (body)
  _shadow_r3__1_ = XOR(r3__,r0__);
  _shadow_r4__3_ = XOR(r1__,r2__);
  _shadow_r1__2_ = AND(r1__,_shadow_r3__1_);
  _shadow_r0__5_ = OR(r0__,_shadow_r3__1_);
  _shadow_r3__8_ = XOR(_shadow_r3__1_,r2__);
  _shadow_r4__7_ = XOR(_shadow_r4__3_,_shadow_r3__1_);
  _shadow_r1__4_ = XOR(_shadow_r1__2_,r0__);
  _shadow_r0__6_ = XOR(_shadow_r0__5_,_shadow_r4__3_);
  _shadow_r4__11_ = NOT(_shadow_r4__7_);
  _shadow_r2__9_ = OR(r2__,_shadow_r1__4_);
  _shadow_r1__13_ = XOR(_shadow_r1__4_,_shadow_r3__8_);
  _shadow_r3__15_ = OR(_shadow_r3__8_,_shadow_r0__6_);
  *r8__ = _shadow_r0__6_;
  _shadow_r4__12_ = OR(_shadow_r4__11_,_shadow_r1__4_);
  _shadow_r2__10_ = XOR(_shadow_r2__9_,_shadow_r4__7_);
  _shadow_r1__14_ = XOR(_shadow_r1__13_,_shadow_r4__12_);
  _shadow_r4__17_ = XOR(_shadow_r4__12_,_shadow_r3__15_);
  *r7__ = _shadow_r2__10_;
  _shadow_r1__16_ = XOR(_shadow_r1__14_,_shadow_r3__15_);
  *r6__ = _shadow_r4__17_;
  *r5__ = _shadow_r1__16_;

}

void sbox__1__V32 (/*inputs*/ DATATYPE r0__,DATATYPE r1__,DATATYPE r2__,DATATYPE r3__, /*outputs*/ DATATYPE* r5__,DATATYPE* r6__,DATATYPE* r7__,DATATYPE* r8__) {

  // Variables declaration
  DATATYPE _shadow_r0__18_;
  DATATYPE _shadow_r0__20_;
  DATATYPE _shadow_r0__22_;
  DATATYPE _shadow_r0__25_;
  DATATYPE _shadow_r0__30_;
  DATATYPE _shadow_r0__33_;
  DATATYPE _shadow_r0__34_;
  DATATYPE _shadow_r1__24_;
  DATATYPE _shadow_r1__27_;
  DATATYPE _shadow_r1__31_;
  DATATYPE _shadow_r1__32_;
  DATATYPE _shadow_r2__19_;
  DATATYPE _shadow_r2__21_;
  DATATYPE _shadow_r2__28_;
  DATATYPE _shadow_r2__29_;
  DATATYPE _shadow_r3__23_;
  DATATYPE _shadow_r4__26_;

  // Instructions (body)
  _shadow_r0__18_ = NOT(r0__);
  _shadow_r2__19_ = NOT(r2__);
  _shadow_r0__20_ = AND(_shadow_r0__18_,r1__);
  _shadow_r2__21_ = XOR(_shadow_r2__19_,_shadow_r0__20_);
  _shadow_r0__22_ = OR(_shadow_r0__20_,r3__);
  _shadow_r3__23_ = XOR(r3__,_shadow_r2__21_);
  _shadow_r1__24_ = XOR(r1__,_shadow_r0__22_);
  _shadow_r0__25_ = XOR(_shadow_r0__22_,_shadow_r0__18_);
  *r7__ = _shadow_r3__23_;
  _shadow_r4__26_ = OR(_shadow_r0__18_,_shadow_r1__24_);
  _shadow_r1__27_ = XOR(_shadow_r1__24_,_shadow_r3__23_);
  _shadow_r2__28_ = OR(_shadow_r2__21_,_shadow_r0__25_);
  _shadow_r0__30_ = XOR(_shadow_r0__25_,_shadow_r1__27_);
  _shadow_r2__29_ = AND(_shadow_r2__28_,_shadow_r4__26_);
  _shadow_r1__31_ = AND(_shadow_r1__27_,_shadow_r2__29_);
  _shadow_r0__33_ = AND(_shadow_r0__30_,_shadow_r2__29_);
  *r5__ = _shadow_r2__29_;
  _shadow_r1__32_ = XOR(_shadow_r1__31_,_shadow_r0__30_);
  _shadow_r0__34_ = XOR(_shadow_r0__33_,_shadow_r4__26_);
  *r8__ = _shadow_r1__32_;
  *r6__ = _shadow_r0__34_;

}

void sbox__2__V32 (/*inputs*/ DATATYPE r0__,DATATYPE r1__,DATATYPE r2__,DATATYPE r3__, /*outputs*/ DATATYPE* r5__,DATATYPE* r6__,DATATYPE* r7__,DATATYPE* r8__) {

  // Variables declaration
  DATATYPE _shadow_r0__35_;
  DATATYPE _shadow_r0__36_;
  DATATYPE _shadow_r0__45_;
  DATATYPE _shadow_r1__47_;
  DATATYPE _shadow_r1__48_;
  DATATYPE _shadow_r2__37_;
  DATATYPE _shadow_r2__38_;
  DATATYPE _shadow_r3__39_;
  DATATYPE _shadow_r3__40_;
  DATATYPE _shadow_r3__43_;
  DATATYPE _shadow_r3__44_;
  DATATYPE _shadow_r4__41_;
  DATATYPE _shadow_r4__46_;
  DATATYPE _shadow_r4__49_;

  // Instructions (body)
  _shadow_r0__35_ = AND(r0__,r2__);
  _shadow_r2__37_ = XOR(r2__,r1__);
  _shadow_r3__39_ = OR(r3__,r0__);
  _shadow_r0__36_ = XOR(_shadow_r0__35_,r3__);
  _shadow_r3__40_ = XOR(_shadow_r3__39_,r1__);
  _shadow_r2__38_ = XOR(_shadow_r2__37_,_shadow_r0__36_);
  _shadow_r0__45_ = AND(_shadow_r0__36_,_shadow_r3__40_);
  _shadow_r4__41_ = XOR(r0__,_shadow_r2__38_);
  *r5__ = _shadow_r2__38_;
  _shadow_r3__43_ = OR(_shadow_r3__40_,_shadow_r4__41_);
  _shadow_r4__46_ = XOR(_shadow_r4__41_,_shadow_r0__45_);
  _shadow_r3__44_ = XOR(_shadow_r3__43_,_shadow_r0__36_);
  _shadow_r4__49_ = NOT(_shadow_r4__46_);
  _shadow_r1__47_ = XOR(_shadow_r3__40_,_shadow_r3__44_);
  *r6__ = _shadow_r3__44_;
  *r8__ = _shadow_r4__49_;
  _shadow_r1__48_ = XOR(_shadow_r1__47_,_shadow_r4__46_);
  *r7__ = _shadow_r1__48_;

}

void sbox__3__V32 (/*inputs*/ DATATYPE r0__,DATATYPE r1__,DATATYPE r2__,DATATYPE r3__, /*outputs*/ DATATYPE* r5__,DATATYPE* r6__,DATATYPE* r7__,DATATYPE* r8__) {

  // Variables declaration
  DATATYPE _shadow_r0__50_;
  DATATYPE _shadow_r0__58_;
  DATATYPE _shadow_r0__64_;
  DATATYPE _shadow_r1__52_;
  DATATYPE _shadow_r1__60_;
  DATATYPE _shadow_r1__62_;
  DATATYPE _shadow_r1__63_;
  DATATYPE _shadow_r1__66_;
  DATATYPE _shadow_r1__67_;
  DATATYPE _shadow_r2__54_;
  DATATYPE _shadow_r3__51_;
  DATATYPE _shadow_r3__55_;
  DATATYPE _shadow_r3__57_;
  DATATYPE _shadow_r4__53_;
  DATATYPE _shadow_r4__56_;
  DATATYPE _shadow_r4__59_;
  DATATYPE _shadow_r4__61_;

  // Instructions (body)
  _shadow_r0__50_ = OR(r0__,r3__);
  _shadow_r3__51_ = XOR(r3__,r1__);
  _shadow_r1__52_ = AND(r1__,r0__);
  _shadow_r4__53_ = XOR(r0__,r2__);
  _shadow_r2__54_ = XOR(r2__,_shadow_r3__51_);
  _shadow_r3__55_ = AND(_shadow_r3__51_,_shadow_r0__50_);
  _shadow_r0__58_ = XOR(_shadow_r0__50_,_shadow_r1__52_);
  _shadow_r4__56_ = OR(_shadow_r4__53_,_shadow_r1__52_);
  _shadow_r3__57_ = XOR(_shadow_r3__55_,_shadow_r4__56_);
  _shadow_r4__59_ = AND(_shadow_r4__56_,_shadow_r0__58_);
  _shadow_r1__60_ = XOR(_shadow_r1__52_,_shadow_r3__57_);
  _shadow_r0__64_ = XOR(_shadow_r0__58_,_shadow_r3__57_);
  *r7__ = _shadow_r3__57_;
  _shadow_r4__61_ = XOR(_shadow_r4__59_,_shadow_r2__54_);
  _shadow_r1__62_ = OR(_shadow_r1__60_,_shadow_r0__58_);
  *r8__ = _shadow_r4__61_;
  _shadow_r1__63_ = XOR(_shadow_r1__62_,_shadow_r2__54_);
  _shadow_r1__66_ = OR(_shadow_r1__63_,_shadow_r3__57_);
  *r6__ = _shadow_r1__63_;
  _shadow_r1__67_ = XOR(_shadow_r1__66_,_shadow_r0__64_);
  *r5__ = _shadow_r1__67_;

}

void sbox__4__V32 (/*inputs*/ DATATYPE r0__,DATATYPE r1__,DATATYPE r2__,DATATYPE r3__, /*outputs*/ DATATYPE* r5__,DATATYPE* r6__,DATATYPE* r7__,DATATYPE* r8__) {

  // Variables declaration
  DATATYPE _shadow_r0__75_;
  DATATYPE _shadow_r0__78_;
  DATATYPE _shadow_r0__82_;
  DATATYPE _shadow_r0__83_;
  DATATYPE _shadow_r0__85_;
  DATATYPE _shadow_r1__68_;
  DATATYPE _shadow_r1__72_;
  DATATYPE _shadow_r1__73_;
  DATATYPE _shadow_r2__70_;
  DATATYPE _shadow_r2__76_;
  DATATYPE _shadow_r2__77_;
  DATATYPE _shadow_r2__84_;
  DATATYPE _shadow_r3__69_;
  DATATYPE _shadow_r3__71_;
  DATATYPE _shadow_r3__79_;
  DATATYPE _shadow_r4__74_;
  DATATYPE _shadow_r4__80_;
  DATATYPE _shadow_r4__81_;
  DATATYPE _shadow_r4__86_;

  // Instructions (body)
  _shadow_r1__68_ = XOR(r1__,r3__);
  _shadow_r3__69_ = NOT(r3__);
  _shadow_r2__70_ = XOR(r2__,_shadow_r3__69_);
  _shadow_r3__71_ = XOR(_shadow_r3__69_,r0__);
  _shadow_r1__72_ = AND(_shadow_r1__68_,_shadow_r3__71_);
  _shadow_r4__74_ = XOR(_shadow_r1__68_,_shadow_r3__71_);
  _shadow_r1__73_ = XOR(_shadow_r1__72_,_shadow_r2__70_);
  _shadow_r0__75_ = XOR(r0__,_shadow_r4__74_);
  _shadow_r2__76_ = AND(_shadow_r2__70_,_shadow_r4__74_);
  _shadow_r4__80_ = OR(_shadow_r4__74_,_shadow_r1__73_);
  *r5__ = _shadow_r1__73_;
  _shadow_r0__78_ = AND(_shadow_r0__75_,_shadow_r1__73_);
  _shadow_r2__77_ = XOR(_shadow_r2__76_,_shadow_r0__75_);
  _shadow_r3__79_ = XOR(_shadow_r3__71_,_shadow_r0__78_);
  _shadow_r4__81_ = XOR(_shadow_r4__80_,_shadow_r0__78_);
  _shadow_r0__82_ = OR(_shadow_r0__78_,_shadow_r3__79_);
  _shadow_r2__84_ = AND(_shadow_r2__77_,_shadow_r3__79_);
  *r8__ = _shadow_r3__79_;
  _shadow_r0__83_ = XOR(_shadow_r0__82_,_shadow_r2__77_);
  _shadow_r4__86_ = XOR(_shadow_r4__81_,_shadow_r2__84_);
  _shadow_r0__85_ = NOT(_shadow_r0__83_);
  *r6__ = _shadow_r4__86_;
  *r7__ = _shadow_r0__85_;

}

void sbox__5__V32 (/*inputs*/ DATATYPE r0__,DATATYPE r1__,DATATYPE r2__,DATATYPE r3__, /*outputs*/ DATATYPE* r5__,DATATYPE* r6__,DATATYPE* r7__,DATATYPE* r8__) {

  // Variables declaration
  DATATYPE _shadow_r0__100_;
  DATATYPE _shadow_r0__102_;
  DATATYPE _shadow_r0__87_;
  DATATYPE _shadow_r1__88_;
  DATATYPE _shadow_r1__90_;
  DATATYPE _shadow_r1__92_;
  DATATYPE _shadow_r2__101_;
  DATATYPE _shadow_r2__104_;
  DATATYPE _shadow_r2__91_;
  DATATYPE _shadow_r2__93_;
  DATATYPE _shadow_r2__99_;
  DATATYPE _shadow_r3__89_;
  DATATYPE _shadow_r3__95_;
  DATATYPE _shadow_r3__96_;
  DATATYPE _shadow_r4__103_;
  DATATYPE _shadow_r4__94_;
  DATATYPE _shadow_r4__97_;
  DATATYPE _shadow_r4__98_;

  // Instructions (body)
  _shadow_r0__87_ = XOR(r0__,r1__);
  _shadow_r1__88_ = XOR(r1__,r3__);
  _shadow_r3__89_ = NOT(r3__);
  _shadow_r1__90_ = AND(_shadow_r1__88_,_shadow_r0__87_);
  _shadow_r2__91_ = XOR(r2__,_shadow_r3__89_);
  _shadow_r4__94_ = XOR(_shadow_r1__88_,_shadow_r3__89_);
  _shadow_r1__92_ = XOR(_shadow_r1__90_,_shadow_r2__91_);
  _shadow_r2__93_ = OR(_shadow_r2__91_,_shadow_r1__88_);
  _shadow_r3__95_ = AND(_shadow_r3__89_,_shadow_r1__92_);
  _shadow_r4__97_ = XOR(_shadow_r4__94_,_shadow_r1__92_);
  *r5__ = _shadow_r1__92_;
  _shadow_r2__99_ = XOR(_shadow_r2__93_,_shadow_r0__87_);
  _shadow_r3__96_ = XOR(_shadow_r3__95_,_shadow_r0__87_);
  _shadow_r4__98_ = XOR(_shadow_r4__97_,_shadow_r2__93_);
  _shadow_r2__101_ = NOT(_shadow_r2__99_);
  _shadow_r0__100_ = AND(_shadow_r0__87_,_shadow_r3__96_);
  *r6__ = _shadow_r3__96_;
  _shadow_r4__103_ = OR(_shadow_r4__98_,_shadow_r3__96_);
  _shadow_r0__102_ = XOR(_shadow_r0__100_,_shadow_r4__98_);
  _shadow_r2__104_ = XOR(_shadow_r2__101_,_shadow_r4__103_);
  *r7__ = _shadow_r0__102_;
  *r8__ = _shadow_r2__104_;

}

void sbox__6__V32 (/*inputs*/ DATATYPE r0__,DATATYPE r1__,DATATYPE r2__,DATATYPE r3__, /*outputs*/ DATATYPE* r5__,DATATYPE* r6__,DATATYPE* r7__,DATATYPE* r8__) {

  // Variables declaration
  DATATYPE _shadow_r0__107_;
  DATATYPE _shadow_r0__112_;
  DATATYPE _shadow_r0__115_;
  DATATYPE _shadow_r0__116_;
  DATATYPE _shadow_r1__110_;
  DATATYPE _shadow_r2__105_;
  DATATYPE _shadow_r2__109_;
  DATATYPE _shadow_r2__111_;
  DATATYPE _shadow_r2__113_;
  DATATYPE _shadow_r2__120_;
  DATATYPE _shadow_r2__121_;
  DATATYPE _shadow_r3__106_;
  DATATYPE _shadow_r3__108_;
  DATATYPE _shadow_r3__119_;
  DATATYPE _shadow_r4__114_;
  DATATYPE _shadow_r4__117_;
  DATATYPE _shadow_r4__118_;

  // Instructions (body)
  _shadow_r2__105_ = NOT(r2__);
  _shadow_r3__106_ = AND(r3__,r0__);
  _shadow_r0__107_ = XOR(r0__,r3__);
  _shadow_r2__109_ = OR(_shadow_r2__105_,r3__);
  _shadow_r3__108_ = XOR(_shadow_r3__106_,_shadow_r2__105_);
  _shadow_r2__111_ = XOR(_shadow_r2__109_,_shadow_r0__107_);
  _shadow_r1__110_ = XOR(r1__,_shadow_r3__108_);
  _shadow_r3__119_ = NOT(_shadow_r3__108_);
  _shadow_r0__112_ = OR(_shadow_r0__107_,_shadow_r1__110_);
  _shadow_r2__113_ = XOR(_shadow_r2__111_,_shadow_r1__110_);
  *r6__ = _shadow_r1__110_;
  _shadow_r4__114_ = XOR(r3__,_shadow_r0__112_);
  _shadow_r0__115_ = OR(_shadow_r0__112_,_shadow_r3__108_);
  _shadow_r4__117_ = XOR(_shadow_r4__114_,_shadow_r3__108_);
  _shadow_r0__116_ = XOR(_shadow_r0__115_,_shadow_r2__113_);
  _shadow_r4__118_ = XOR(_shadow_r4__117_,_shadow_r0__116_);
  *r5__ = _shadow_r0__116_;
  _shadow_r2__120_ = AND(_shadow_r2__113_,_shadow_r4__118_);
  *r7__ = _shadow_r4__118_;
  _shadow_r2__121_ = XOR(_shadow_r2__120_,_shadow_r3__119_);
  *r8__ = _shadow_r2__121_;

}

void sbox__7__V32 (/*inputs*/ DATATYPE r0__,DATATYPE r1__,DATATYPE r2__,DATATYPE r3__, /*outputs*/ DATATYPE* r5__,DATATYPE* r6__,DATATYPE* r7__,DATATYPE* r8__) {

  // Variables declaration
  DATATYPE _shadow_r0__132_;
  DATATYPE _shadow_r0__133_;
  DATATYPE _shadow_r1__122_;
  DATATYPE _shadow_r1__123_;
  DATATYPE _shadow_r1__130_;
  DATATYPE _shadow_r1__131_;
  DATATYPE _shadow_r1__134_;
  DATATYPE _shadow_r1__136_;
  DATATYPE _shadow_r1__137_;
  DATATYPE _shadow_r2__125_;
  DATATYPE _shadow_r2__135_;
  DATATYPE _shadow_r2__138_;
  DATATYPE _shadow_r2__139_;
  DATATYPE _shadow_r3__126_;
  DATATYPE _shadow_r3__127_;
  DATATYPE _shadow_r3__129_;
  DATATYPE _shadow_r4__124_;
  DATATYPE _shadow_r4__128_;
  DATATYPE _shadow_r4__140_;

  // Instructions (body)
  _shadow_r1__122_ = OR(r1__,r2__);
  _shadow_r4__124_ = XOR(r1__,r2__);
  _shadow_r1__123_ = XOR(_shadow_r1__122_,r3__);
  _shadow_r3__126_ = OR(r3__,_shadow_r4__124_);
  _shadow_r2__125_ = XOR(r2__,_shadow_r1__123_);
  _shadow_r3__127_ = AND(_shadow_r3__126_,r0__);
  _shadow_r4__128_ = XOR(_shadow_r4__124_,_shadow_r2__125_);
  _shadow_r3__129_ = XOR(_shadow_r3__127_,_shadow_r1__123_);
  _shadow_r1__130_ = OR(_shadow_r1__123_,_shadow_r4__128_);
  _shadow_r0__132_ = OR(r0__,_shadow_r4__128_);
  *r6__ = _shadow_r3__129_;
  _shadow_r1__131_ = XOR(_shadow_r1__130_,r0__);
  _shadow_r0__133_ = XOR(_shadow_r0__132_,_shadow_r2__125_);
  _shadow_r1__134_ = XOR(_shadow_r1__131_,_shadow_r4__128_);
  *r8__ = _shadow_r0__133_;
  _shadow_r2__135_ = XOR(_shadow_r2__125_,_shadow_r1__134_);
  _shadow_r1__136_ = AND(_shadow_r1__134_,_shadow_r0__133_);
  _shadow_r2__138_ = NOT(_shadow_r2__135_);
  _shadow_r1__137_ = XOR(_shadow_r1__136_,_shadow_r4__128_);
  _shadow_r2__139_ = OR(_shadow_r2__138_,_shadow_r0__133_);
  *r7__ = _shadow_r1__137_;
  _shadow_r4__140_ = XOR(_shadow_r4__128_,_shadow_r2__139_);
  *r5__ = _shadow_r4__140_;

}

void transform__V32 (/*inputs*/ DATATYPE x__[4], /*outputs*/ DATATYPE out__[4]) {

  // Variables declaration
  DATATYPE _shadow_x__141_;
  DATATYPE _shadow_x__142_;
  DATATYPE _shadow_x__143_;
  DATATYPE _shadow_x__144_;
  DATATYPE _shadow_x__145_;
  DATATYPE _shadow_x__146_;
  DATATYPE _shadow_x__147_;
  DATATYPE _shadow_x__148_;
  DATATYPE _shadow_x__149_;
  DATATYPE _shadow_x__150_;
  DATATYPE _tmp1_;
  DATATYPE _tmp2_;
  DATATYPE _tmp3_;
  DATATYPE _tmp4_;
  DATATYPE _tmp5_;
  DATATYPE _tmp6_;

  // Instructions (body)
  _shadow_x__141_ = L_ROTATE(x__[0],13,32);
  _shadow_x__142_ = L_ROTATE(x__[2],3,32);
  _tmp1_ = XOR(x__[1],_shadow_x__141_);
  _tmp3_ = L_SHIFT(_shadow_x__141_,3,32);
  _tmp2_ = XOR(x__[3],_shadow_x__142_);
  _shadow_x__143_ = XOR(_tmp1_,_shadow_x__142_);
  _shadow_x__144_ = XOR(_tmp2_,_tmp3_);
  _shadow_x__145_ = L_ROTATE(_shadow_x__143_,1,32);
  _shadow_x__146_ = L_ROTATE(_shadow_x__144_,7,32);
  _tmp4_ = XOR(_shadow_x__141_,_shadow_x__145_);
  _tmp6_ = L_SHIFT(_shadow_x__145_,7,32);
  out__[1] = _shadow_x__145_;
  _tmp5_ = XOR(_shadow_x__142_,_shadow_x__146_);
  out__[3] = _shadow_x__146_;
  _shadow_x__147_ = XOR(_tmp4_,_shadow_x__146_);
  _shadow_x__148_ = XOR(_tmp5_,_tmp6_);
  _shadow_x__149_ = L_ROTATE(_shadow_x__147_,5,32);
  _shadow_x__150_ = L_ROTATE(_shadow_x__148_,22,32);
  out__[0] = _shadow_x__149_;
  out__[2] = _shadow_x__150_;

}

/* main function */
void Serpent__ (/*inputs*/ DATATYPE plaintext__[4],DATATYPE keys__[33][4], /*outputs*/ DATATYPE ciphertext__[4]) {

  // Variables declaration
  DATATYPE _tmp10_[4];
  DATATYPE _tmp11_[4];
  DATATYPE _tmp12_[4];
  DATATYPE _tmp13_[4];
  DATATYPE _tmp14_[4];
  DATATYPE _tmp15_[4];
  DATATYPE _tmp16_[4];
  DATATYPE _tmp17_[4];
  DATATYPE _tmp18_[4];
  DATATYPE _tmp19_[4];
  DATATYPE _tmp20_[4];
  DATATYPE _tmp21_[4];
  DATATYPE _tmp22_[4];
  DATATYPE _tmp23_[4];
  DATATYPE _tmp24_[4];
  DATATYPE _tmp25_[4];
  DATATYPE _tmp26_[4];
  DATATYPE _tmp27_[4];
  DATATYPE _tmp28_[4];
  DATATYPE _tmp29_[4];
  DATATYPE _tmp30_[4];
  DATATYPE _tmp31_[4];
  DATATYPE _tmp32_[4];
  DATATYPE _tmp33_[4];
  DATATYPE _tmp34_[4];
  DATATYPE _tmp35_[4];
  DATATYPE _tmp36_[4];
  DATATYPE _tmp37_[4];
  DATATYPE _tmp38_[4];
  DATATYPE _tmp39_[4];
  DATATYPE _tmp40_[4];
  DATATYPE _tmp41_[4];
  DATATYPE _tmp42_[4];
  DATATYPE _tmp43_[4];
  DATATYPE _tmp44_[4];
  DATATYPE _tmp45_[4];
  DATATYPE _tmp46_[4];
  DATATYPE _tmp47_[4];
  DATATYPE _tmp48_[4];
  DATATYPE _tmp49_[4];
  DATATYPE _tmp50_[4];
  DATATYPE _tmp51_[4];
  DATATYPE _tmp52_[4];
  DATATYPE _tmp53_[4];
  DATATYPE _tmp54_[4];
  DATATYPE _tmp55_[4];
  DATATYPE _tmp56_[4];
  DATATYPE _tmp57_[4];
  DATATYPE _tmp58_[4];
  DATATYPE _tmp59_[4];
  DATATYPE _tmp60_[4];
  DATATYPE _tmp61_[4];
  DATATYPE _tmp62_[4];
  DATATYPE _tmp63_[4];
  DATATYPE _tmp64_[4];
  DATATYPE _tmp65_[4];
  DATATYPE _tmp66_[4];
  DATATYPE _tmp67_[4];
  DATATYPE _tmp68_[4];
  DATATYPE _tmp69_[4];
  DATATYPE _tmp70_[4];
  DATATYPE _tmp7_[4];
  DATATYPE _tmp8_[4];
  DATATYPE _tmp9_[4];
  DATATYPE tmp__[4];

  // Instructions (body)
  _tmp7_[0] = XOR(plaintext__[0],keys__[0][0]);
  _tmp7_[1] = XOR(plaintext__[1],keys__[0][1]);
  _tmp7_[2] = XOR(plaintext__[2],keys__[0][2]);
  _tmp7_[3] = XOR(plaintext__[3],keys__[0][3]);
  sbox__0__V32(_tmp7_[0],_tmp7_[1],_tmp7_[2],_tmp7_[3],&_tmp8_[0],&_tmp8_[1],&_tmp8_[2],&_tmp8_[3]);
  transform__V32(_tmp8_,tmp__);
  _tmp9_[0] = XOR(tmp__[0],keys__[1][0]);
  _tmp9_[1] = XOR(tmp__[1],keys__[1][1]);
  _tmp9_[2] = XOR(tmp__[2],keys__[1][2]);
  _tmp9_[3] = XOR(tmp__[3],keys__[1][3]);
  sbox__1__V32(_tmp9_[0],_tmp9_[1],_tmp9_[2],_tmp9_[3],&_tmp10_[0],&_tmp10_[1],&_tmp10_[2],&_tmp10_[3]);
  transform__V32(_tmp10_,tmp__);
  _tmp11_[0] = XOR(tmp__[0],keys__[2][0]);
  _tmp11_[1] = XOR(tmp__[1],keys__[2][1]);
  _tmp11_[2] = XOR(tmp__[2],keys__[2][2]);
  _tmp11_[3] = XOR(tmp__[3],keys__[2][3]);
  sbox__2__V32(_tmp11_[0],_tmp11_[1],_tmp11_[2],_tmp11_[3],&_tmp12_[0],&_tmp12_[1],&_tmp12_[2],&_tmp12_[3]);
  transform__V32(_tmp12_,tmp__);
  _tmp13_[0] = XOR(tmp__[0],keys__[3][0]);
  _tmp13_[1] = XOR(tmp__[1],keys__[3][1]);
  _tmp13_[2] = XOR(tmp__[2],keys__[3][2]);
  _tmp13_[3] = XOR(tmp__[3],keys__[3][3]);
  sbox__3__V32(_tmp13_[0],_tmp13_[1],_tmp13_[2],_tmp13_[3],&_tmp14_[0],&_tmp14_[1],&_tmp14_[2],&_tmp14_[3]);
  transform__V32(_tmp14_,tmp__);
  _tmp15_[0] = XOR(tmp__[0],keys__[4][0]);
  _tmp15_[1] = XOR(tmp__[1],keys__[4][1]);
  _tmp15_[2] = XOR(tmp__[2],keys__[4][2]);
  _tmp15_[3] = XOR(tmp__[3],keys__[4][3]);
  sbox__4__V32(_tmp15_[0],_tmp15_[1],_tmp15_[2],_tmp15_[3],&_tmp16_[0],&_tmp16_[1],&_tmp16_[2],&_tmp16_[3]);
  transform__V32(_tmp16_,tmp__);
  _tmp17_[0] = XOR(tmp__[0],keys__[5][0]);
  _tmp17_[1] = XOR(tmp__[1],keys__[5][1]);
  _tmp17_[2] = XOR(tmp__[2],keys__[5][2]);
  _tmp17_[3] = XOR(tmp__[3],keys__[5][3]);
  sbox__5__V32(_tmp17_[0],_tmp17_[1],_tmp17_[2],_tmp17_[3],&_tmp18_[0],&_tmp18_[1],&_tmp18_[2],&_tmp18_[3]);
  transform__V32(_tmp18_,tmp__);
  _tmp19_[0] = XOR(tmp__[0],keys__[6][0]);
  _tmp19_[1] = XOR(tmp__[1],keys__[6][1]);
  _tmp19_[2] = XOR(tmp__[2],keys__[6][2]);
  _tmp19_[3] = XOR(tmp__[3],keys__[6][3]);
  sbox__6__V32(_tmp19_[0],_tmp19_[1],_tmp19_[2],_tmp19_[3],&_tmp20_[0],&_tmp20_[1],&_tmp20_[2],&_tmp20_[3]);
  transform__V32(_tmp20_,tmp__);
  _tmp21_[0] = XOR(tmp__[0],keys__[7][0]);
  _tmp21_[1] = XOR(tmp__[1],keys__[7][1]);
  _tmp21_[2] = XOR(tmp__[2],keys__[7][2]);
  _tmp21_[3] = XOR(tmp__[3],keys__[7][3]);
  sbox__7__V32(_tmp21_[0],_tmp21_[1],_tmp21_[2],_tmp21_[3],&_tmp22_[0],&_tmp22_[1],&_tmp22_[2],&_tmp22_[3]);
  transform__V32(_tmp22_,tmp__);
  _tmp23_[0] = XOR(tmp__[0],keys__[8][0]);
  _tmp23_[1] = XOR(tmp__[1],keys__[8][1]);
  _tmp23_[2] = XOR(tmp__[2],keys__[8][2]);
  _tmp23_[3] = XOR(tmp__[3],keys__[8][3]);
  sbox__0__V32(_tmp23_[0],_tmp23_[1],_tmp23_[2],_tmp23_[3],&_tmp24_[0],&_tmp24_[1],&_tmp24_[2],&_tmp24_[3]);
  transform__V32(_tmp24_,tmp__);
  _tmp25_[0] = XOR(tmp__[0],keys__[9][0]);
  _tmp25_[1] = XOR(tmp__[1],keys__[9][1]);
  _tmp25_[2] = XOR(tmp__[2],keys__[9][2]);
  _tmp25_[3] = XOR(tmp__[3],keys__[9][3]);
  sbox__1__V32(_tmp25_[0],_tmp25_[1],_tmp25_[2],_tmp25_[3],&_tmp26_[0],&_tmp26_[1],&_tmp26_[2],&_tmp26_[3]);
  transform__V32(_tmp26_,tmp__);
  _tmp27_[0] = XOR(tmp__[0],keys__[10][0]);
  _tmp27_[1] = XOR(tmp__[1],keys__[10][1]);
  _tmp27_[2] = XOR(tmp__[2],keys__[10][2]);
  _tmp27_[3] = XOR(tmp__[3],keys__[10][3]);
  sbox__2__V32(_tmp27_[0],_tmp27_[1],_tmp27_[2],_tmp27_[3],&_tmp28_[0],&_tmp28_[1],&_tmp28_[2],&_tmp28_[3]);
  transform__V32(_tmp28_,tmp__);
  _tmp29_[0] = XOR(tmp__[0],keys__[11][0]);
  _tmp29_[1] = XOR(tmp__[1],keys__[11][1]);
  _tmp29_[2] = XOR(tmp__[2],keys__[11][2]);
  _tmp29_[3] = XOR(tmp__[3],keys__[11][3]);
  sbox__3__V32(_tmp29_[0],_tmp29_[1],_tmp29_[2],_tmp29_[3],&_tmp30_[0],&_tmp30_[1],&_tmp30_[2],&_tmp30_[3]);
  transform__V32(_tmp30_,tmp__);
  _tmp31_[0] = XOR(tmp__[0],keys__[12][0]);
  _tmp31_[1] = XOR(tmp__[1],keys__[12][1]);
  _tmp31_[2] = XOR(tmp__[2],keys__[12][2]);
  _tmp31_[3] = XOR(tmp__[3],keys__[12][3]);
  sbox__4__V32(_tmp31_[0],_tmp31_[1],_tmp31_[2],_tmp31_[3],&_tmp32_[0],&_tmp32_[1],&_tmp32_[2],&_tmp32_[3]);
  transform__V32(_tmp32_,tmp__);
  _tmp33_[0] = XOR(tmp__[0],keys__[13][0]);
  _tmp33_[1] = XOR(tmp__[1],keys__[13][1]);
  _tmp33_[2] = XOR(tmp__[2],keys__[13][2]);
  _tmp33_[3] = XOR(tmp__[3],keys__[13][3]);
  sbox__5__V32(_tmp33_[0],_tmp33_[1],_tmp33_[2],_tmp33_[3],&_tmp34_[0],&_tmp34_[1],&_tmp34_[2],&_tmp34_[3]);
  transform__V32(_tmp34_,tmp__);
  _tmp35_[0] = XOR(tmp__[0],keys__[14][0]);
  _tmp35_[1] = XOR(tmp__[1],keys__[14][1]);
  _tmp35_[2] = XOR(tmp__[2],keys__[14][2]);
  _tmp35_[3] = XOR(tmp__[3],keys__[14][3]);
  sbox__6__V32(_tmp35_[0],_tmp35_[1],_tmp35_[2],_tmp35_[3],&_tmp36_[0],&_tmp36_[1],&_tmp36_[2],&_tmp36_[3]);
  transform__V32(_tmp36_,tmp__);
  _tmp37_[0] = XOR(tmp__[0],keys__[15][0]);
  _tmp37_[1] = XOR(tmp__[1],keys__[15][1]);
  _tmp37_[2] = XOR(tmp__[2],keys__[15][2]);
  _tmp37_[3] = XOR(tmp__[3],keys__[15][3]);
  sbox__7__V32(_tmp37_[0],_tmp37_[1],_tmp37_[2],_tmp37_[3],&_tmp38_[0],&_tmp38_[1],&_tmp38_[2],&_tmp38_[3]);
  transform__V32(_tmp38_,tmp__);
  _tmp39_[0] = XOR(tmp__[0],keys__[16][0]);
  _tmp39_[1] = XOR(tmp__[1],keys__[16][1]);
  _tmp39_[2] = XOR(tmp__[2],keys__[16][2]);
  _tmp39_[3] = XOR(tmp__[3],keys__[16][3]);
  sbox__0__V32(_tmp39_[0],_tmp39_[1],_tmp39_[2],_tmp39_[3],&_tmp40_[0],&_tmp40_[1],&_tmp40_[2],&_tmp40_[3]);
  transform__V32(_tmp40_,tmp__);
  _tmp41_[0] = XOR(tmp__[0],keys__[17][0]);
  _tmp41_[1] = XOR(tmp__[1],keys__[17][1]);
  _tmp41_[2] = XOR(tmp__[2],keys__[17][2]);
  _tmp41_[3] = XOR(tmp__[3],keys__[17][3]);
  sbox__1__V32(_tmp41_[0],_tmp41_[1],_tmp41_[2],_tmp41_[3],&_tmp42_[0],&_tmp42_[1],&_tmp42_[2],&_tmp42_[3]);
  transform__V32(_tmp42_,tmp__);
  _tmp43_[0] = XOR(tmp__[0],keys__[18][0]);
  _tmp43_[1] = XOR(tmp__[1],keys__[18][1]);
  _tmp43_[2] = XOR(tmp__[2],keys__[18][2]);
  _tmp43_[3] = XOR(tmp__[3],keys__[18][3]);
  sbox__2__V32(_tmp43_[0],_tmp43_[1],_tmp43_[2],_tmp43_[3],&_tmp44_[0],&_tmp44_[1],&_tmp44_[2],&_tmp44_[3]);
  transform__V32(_tmp44_,tmp__);
  _tmp45_[0] = XOR(tmp__[0],keys__[19][0]);
  _tmp45_[1] = XOR(tmp__[1],keys__[19][1]);
  _tmp45_[2] = XOR(tmp__[2],keys__[19][2]);
  _tmp45_[3] = XOR(tmp__[3],keys__[19][3]);
  sbox__3__V32(_tmp45_[0],_tmp45_[1],_tmp45_[2],_tmp45_[3],&_tmp46_[0],&_tmp46_[1],&_tmp46_[2],&_tmp46_[3]);
  transform__V32(_tmp46_,tmp__);
  _tmp47_[0] = XOR(tmp__[0],keys__[20][0]);
  _tmp47_[1] = XOR(tmp__[1],keys__[20][1]);
  _tmp47_[2] = XOR(tmp__[2],keys__[20][2]);
  _tmp47_[3] = XOR(tmp__[3],keys__[20][3]);
  sbox__4__V32(_tmp47_[0],_tmp47_[1],_tmp47_[2],_tmp47_[3],&_tmp48_[0],&_tmp48_[1],&_tmp48_[2],&_tmp48_[3]);
  transform__V32(_tmp48_,tmp__);
  _tmp49_[0] = XOR(tmp__[0],keys__[21][0]);
  _tmp49_[1] = XOR(tmp__[1],keys__[21][1]);
  _tmp49_[2] = XOR(tmp__[2],keys__[21][2]);
  _tmp49_[3] = XOR(tmp__[3],keys__[21][3]);
  sbox__5__V32(_tmp49_[0],_tmp49_[1],_tmp49_[2],_tmp49_[3],&_tmp50_[0],&_tmp50_[1],&_tmp50_[2],&_tmp50_[3]);
  transform__V32(_tmp50_,tmp__);
  _tmp51_[0] = XOR(tmp__[0],keys__[22][0]);
  _tmp51_[1] = XOR(tmp__[1],keys__[22][1]);
  _tmp51_[2] = XOR(tmp__[2],keys__[22][2]);
  _tmp51_[3] = XOR(tmp__[3],keys__[22][3]);
  sbox__6__V32(_tmp51_[0],_tmp51_[1],_tmp51_[2],_tmp51_[3],&_tmp52_[0],&_tmp52_[1],&_tmp52_[2],&_tmp52_[3]);
  transform__V32(_tmp52_,tmp__);
  _tmp53_[0] = XOR(tmp__[0],keys__[23][0]);
  _tmp53_[1] = XOR(tmp__[1],keys__[23][1]);
  _tmp53_[2] = XOR(tmp__[2],keys__[23][2]);
  _tmp53_[3] = XOR(tmp__[3],keys__[23][3]);
  sbox__7__V32(_tmp53_[0],_tmp53_[1],_tmp53_[2],_tmp53_[3],&_tmp54_[0],&_tmp54_[1],&_tmp54_[2],&_tmp54_[3]);
  transform__V32(_tmp54_,tmp__);
  _tmp55_[0] = XOR(tmp__[0],keys__[24][0]);
  _tmp55_[1] = XOR(tmp__[1],keys__[24][1]);
  _tmp55_[2] = XOR(tmp__[2],keys__[24][2]);
  _tmp55_[3] = XOR(tmp__[3],keys__[24][3]);
  sbox__0__V32(_tmp55_[0],_tmp55_[1],_tmp55_[2],_tmp55_[3],&_tmp56_[0],&_tmp56_[1],&_tmp56_[2],&_tmp56_[3]);
  transform__V32(_tmp56_,tmp__);
  _tmp57_[0] = XOR(tmp__[0],keys__[25][0]);
  _tmp57_[1] = XOR(tmp__[1],keys__[25][1]);
  _tmp57_[2] = XOR(tmp__[2],keys__[25][2]);
  _tmp57_[3] = XOR(tmp__[3],keys__[25][3]);
  sbox__1__V32(_tmp57_[0],_tmp57_[1],_tmp57_[2],_tmp57_[3],&_tmp58_[0],&_tmp58_[1],&_tmp58_[2],&_tmp58_[3]);
  transform__V32(_tmp58_,tmp__);
  _tmp59_[0] = XOR(tmp__[0],keys__[26][0]);
  _tmp59_[1] = XOR(tmp__[1],keys__[26][1]);
  _tmp59_[2] = XOR(tmp__[2],keys__[26][2]);
  _tmp59_[3] = XOR(tmp__[3],keys__[26][3]);
  sbox__2__V32(_tmp59_[0],_tmp59_[1],_tmp59_[2],_tmp59_[3],&_tmp60_[0],&_tmp60_[1],&_tmp60_[2],&_tmp60_[3]);
  transform__V32(_tmp60_,tmp__);
  _tmp61_[0] = XOR(tmp__[0],keys__[27][0]);
  _tmp61_[1] = XOR(tmp__[1],keys__[27][1]);
  _tmp61_[2] = XOR(tmp__[2],keys__[27][2]);
  _tmp61_[3] = XOR(tmp__[3],keys__[27][3]);
  sbox__3__V32(_tmp61_[0],_tmp61_[1],_tmp61_[2],_tmp61_[3],&_tmp62_[0],&_tmp62_[1],&_tmp62_[2],&_tmp62_[3]);
  transform__V32(_tmp62_,tmp__);
  _tmp63_[0] = XOR(tmp__[0],keys__[28][0]);
  _tmp63_[1] = XOR(tmp__[1],keys__[28][1]);
  _tmp63_[2] = XOR(tmp__[2],keys__[28][2]);
  _tmp63_[3] = XOR(tmp__[3],keys__[28][3]);
  sbox__4__V32(_tmp63_[0],_tmp63_[1],_tmp63_[2],_tmp63_[3],&_tmp64_[0],&_tmp64_[1],&_tmp64_[2],&_tmp64_[3]);
  transform__V32(_tmp64_,tmp__);
  _tmp65_[0] = XOR(tmp__[0],keys__[29][0]);
  _tmp65_[1] = XOR(tmp__[1],keys__[29][1]);
  _tmp65_[2] = XOR(tmp__[2],keys__[29][2]);
  _tmp65_[3] = XOR(tmp__[3],keys__[29][3]);
  sbox__5__V32(_tmp65_[0],_tmp65_[1],_tmp65_[2],_tmp65_[3],&_tmp66_[0],&_tmp66_[1],&_tmp66_[2],&_tmp66_[3]);
  transform__V32(_tmp66_,tmp__);
  _tmp67_[0] = XOR(tmp__[0],keys__[30][0]);
  _tmp67_[1] = XOR(tmp__[1],keys__[30][1]);
  _tmp67_[2] = XOR(tmp__[2],keys__[30][2]);
  _tmp67_[3] = XOR(tmp__[3],keys__[30][3]);
  sbox__6__V32(_tmp67_[0],_tmp67_[1],_tmp67_[2],_tmp67_[3],&_tmp68_[0],&_tmp68_[1],&_tmp68_[2],&_tmp68_[3]);
  transform__V32(_tmp68_,tmp__);
  _tmp69_[0] = XOR(tmp__[0],keys__[31][0]);
  _tmp69_[1] = XOR(tmp__[1],keys__[31][1]);
  _tmp69_[2] = XOR(tmp__[2],keys__[31][2]);
  _tmp69_[3] = XOR(tmp__[3],keys__[31][3]);
  sbox__7__V32(_tmp69_[0],_tmp69_[1],_tmp69_[2],_tmp69_[3],&_tmp70_[0],&_tmp70_[1],&_tmp70_[2],&_tmp70_[3]);
  ciphertext__[0] = XOR(_tmp70_[0],keys__[32][0]);
  ciphertext__[1] = XOR(_tmp70_[1],keys__[32][1]);
  ciphertext__[2] = XOR(_tmp70_[2],keys__[32][2]);
  ciphertext__[3] = XOR(_tmp70_[3],keys__[32][3]);

}

/* Additional functions */
uint32_t bench_speed() {
  /* Inputs */
  DATATYPE plaintext__[4] = { 0 };
  DATATYPE keys__[33][4] = { 0 };

  /* Preventing inputs from being optimized out */
  asm volatile("" : "+m" (plaintext__));
  asm volatile("" : "+m" (keys__));

  /* Outputs */
  DATATYPE ciphertext__[4] = { 0 };
  /* Primitive call */
  Serpent__(plaintext__, keys__,ciphertext__);

  /* Preventing outputs from being optimized out */
  asm volatile("" : "+m" (ciphertext__));

  /* Returning the number of encrypted bytes */
  return 16;
}

/* **************************************************************** */
/*                            Usuba source                          */
/*                                                                  */
/*

 _no_inline table[] sbox(input :  v4 :: base)
  returns out :  v4 :: base
[ {3, 8, 15, 1, 10, 6, 5, 11, 14, 13, 4, 2, 7, 0, 9, 12}
;
{15, 12, 2, 7, 9, 0, 5, 10, 1, 11, 14, 8, 6, 13, 3, 4}
;
{8, 6, 7, 9, 3, 12, 10, 15, 13, 1, 14, 4, 0, 11, 5, 2}
;
{0, 15, 11, 8, 12, 9, 6, 3, 13, 1, 2, 4, 10, 7, 5, 14}
;
{1, 15, 8, 3, 12, 0, 11, 6, 2, 5, 4, 10, 9, 14, 7, 13}
;
{15, 5, 2, 11, 4, 10, 9, 12, 0, 3, 14, 8, 13, 6, 7, 1}
;
{7, 2, 12, 5, 8, 4, 6, 11, 14, 9, 1, 15, 13, 3, 10, 0}
;
{1, 13, 15, 0, 14, 8, 2, 11, 7, 4, 12, 10, 9, 3, 5, 6}
]


_no_inline node transform(x :  u32x4 :: base)
  returns out :  u32x4 :: base
vars

let
(x[0]) := (x[0] <<< 13);
(x[2]) := (x[2] <<< 3);
(x[1]) := ((x[1] ^ x[0]) ^ x[2]);
(x[3]) := ((x[3] ^ x[2]) ^ (x[0] << 3));
(x[1]) := (x[1] <<< 1);
(x[3]) := (x[3] <<< 7);
(x[0]) := ((x[0] ^ x[1]) ^ x[3]);
(x[2]) := ((x[2] ^ x[3]) ^ (x[1] << 7));
(x[0]) := (x[0] <<< 5);
(x[2]) := (x[2] <<< 22);
(out) = x
tel

 node Serpent(plaintext :  u32x4 :: base,keys : const u32x4[33] :: base)
  returns ciphertext :  u32x4 :: base
vars
  tmp :  u32x4[32] :: base
let
(tmp[0]) = plaintext;
forall i in [0,30] {
(tmp[(i + 1)]) = transform(sbox[(i % 8)]((tmp[i] ^ keys[i])))
};
(ciphertext) = (sbox[7]((tmp[31] ^ keys[31])) ^ keys[32])
tel

*/
 